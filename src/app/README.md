# كيفية تشغيل مشروع نظام إدارة الموارد البشرية (HRMS) محليًا

يحتوي هذا الدليل على الإرشادات اللازمة لتثبيت وتشغيل المشروع بهيكليته الجديدة (Next.js Frontend + Flask Backend) على جهازك الشخصي.

## المتطلبات الأساسية

قبل البدء، تأكد من أن لديك الأدوات التالية مثبتة على نظامك:

-   **Node.js & npm**: يوصى باستخدام إصدار 18 أو أحدث.
-   **Python**: يوصى باستخدام إصدار 3.8 أو أحدث.
-   **pip**: مدير حزم Python (يأتي عادةً مع Python).

## خطوات التشغيل

لتشغيل المشروع بالكامل، ستحتاج إلى فتح **طرفيتين (Two Terminals)** وتشغيل كل جزء (الخلفية والأمامية) بشكل منفصل وفي نفس الوقت.

---

### الطرفية الأولى: تشغيل الواجهة الخلفية (Flask Backend)

الواجهة الخلفية هي المسؤولة عن التعامل مع قاعدة البيانات وتوفير البيانات للواجهة الأمامية.

1.  **الانتقال إلى مجلد الواجهة الخلفية**:
    افتح الطرفية وتوجه إلى المجلد `src/app/backend`:
    ```bash
    cd src/app/backend
    ```

2.  **إنشاء بيئة افتراضية (مستحسن بشدة)**:
    من الأفضل دائمًا إنشاء بيئة Python افتراضية لعزل اعتماديات المشروع.
    ```bash
    # (لأول مرة فقط)
    python -m venv venv
    ```

3.  **تفعيل البيئة الافتراضية**:
    -   **على Windows**:
        ```bash
        .\venv\Scripts\Activate
        ```
    -   **على Linux/macOS**:
        ```bash
        source venv/bin/activate
        ```
    ستلاحظ ظهور `(venv)` قبل مسار المجلد في الطرفية، مما يعني أن البيئة نشطة.

4.  **تثبيت الاعتماديات**:
    قم بتثبيت جميع مكتبات Python المطلوبة من ملف `requirements.txt`:
    ```bash
    pip install -r requirements.txt
    ```

5.  **تشغيل خادم Flask**:
    الآن، قم بتشغيل الخادم. سيقوم هذا الأمر بإنشاء ملف قاعدة البيانات `hrms.db` تلقائيًا إذا لم يكن موجودًا.
    ```bash
    flask run
    ```
    يفترض أن ترى رسالة تفيد بأن الخادم يعمل على `http://127.0.0.1:5000`. **اترك هذه الطرفية مفتوحة.**

---

### الطرفية الثانية: تشغيل الواجهة الأمامية (Next.js Frontend)

الواجهة الأمامية هي واجهة المستخدم التي تتفاعل معها في المتصفح.

1.  **الانتقال إلى المجلد الرئيسي للمشروع**:
    افتح طرفية **جديدة** وتوجه إلى المجلد الرئيسي للمشروع (حيث يوجد ملف `package.json`).

2.  **تثبيت اعتماديات Node.js**:
    إذا لم تكن قد قمت بذلك من قبل، قم بتثبيت جميع الحزم المطلوبة:
    ```bash
    npm install
    ```

3.  **تشغيل خادم التطوير**:
    ابدأ خادم Next.js. سيقوم تلقائيًا بالاتصال بالواجهة الخلفية التي تعمل على منفذ 5000.
    ```bash
    npm run dev
    ```

---

### 4. الوصول إلى التطبيق

الآن، وبعد أن أصبح كل من الخادم الخلفي والأمامي يعملان:

-   افتح متصفح الويب الخاص بك.
-   توجه إلى العنوان التالي: [http://localhost:9002](http://localhost:9002)

بهذا تكون قد شغلت المشروع بالكامل بنجاح.